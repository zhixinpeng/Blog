## XSS

Cross-Site Scripting（跨站脚本攻击）简称 XSS，是一种代码注入攻击。攻击者通过在目标网站上注入恶意脚本，使之在用户的浏览器上运行。利用这些脚本，攻击者可以获取用户的敏感信息如 Cookie、SessionID 等，进而危害数据安全。

### XSS 分类

- 存储型 XSS

  将恶意代码提交到目标网站的数据库中进行存储，用户打开网站时，网站将恶意代码从数据库中取出，拼接在 HTML 中返回给浏览器，从而执行恶意代码

- 反射型 XSS

  攻击者构造出特殊的 URL，其中包含恶意代码，用户打开带有恶意代码的 URL 时，网站服务端将恶意代码从 URL 中取出，拼接在 HTML 中返回给浏览器。

- DOM 型 XSS

  攻击者构造出特殊的 URL，其中包含恶意代码。用户打开 URL，JavaScript 取出 URL 中的恶意代码并执行。

  DOM 型 XSS 和前两种的区别在于，取出和执行恶意代码由浏览器端完成，属于前端 JavaScript 自身的安全漏洞，其他两种属于服务端的安全漏洞

### XSS  攻击预防

- 输入过滤
- 纯前端渲染
- 转义 HTML
- 小心使用 innerHTML、outerHTML 等 API

## CSRF

CSRF（Cross-site request forgery）跨站请求伪造：攻击者诱导用户进入到第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站中已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击网站执行某项操作的目的。

### 常见攻击类型

- GET 类型 CSRF
- POST 类型 CSRF
- 链接类型 CSRF

### 防护策略

- 阻止不明外域的访问
  - 同源检查
  - Samesite Cookie
- 提交时要求附加本域才能获取的信息
  - CSRF Token
  - 双重 Cookie 认证